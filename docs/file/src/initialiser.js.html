<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <base data-ice="baseUrl" href="../../" />
        <title data-ice="title">src/initialiser.js | flarejs</title>
        <link type="text/css" rel="stylesheet" href="css/style.css" />
        <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css" />
        <script src="script/prettify/prettify.js"></script>
        <script src="script/manual.js"></script>
        <meta name="description" content="A JavaScript background Flare Animation Library" />
        <meta property="twitter:card" content="summary" />
        <meta property="twitter:title" content="flarejs" />
        <meta property="twitter:description" content="A JavaScript background Flare Animation Library" />
    </head>
    <body class="layout-container" data-ice="rootContainer">
        <header>
            <a href="./">Home</a>

            <a href="identifiers.html">Reference</a>
            <a href="source.html">Source</a>

            <div class="search-box">
                <span>
                    <img src="./image/search.png" />
                    <span class="search-input-edge"></span><input class="search-input" /><span class="search-input-edge"></span>
                </span>
                <ul class="search-result"></ul>
            </div>
            <a style="position: relative; top: 3px" href="https://github.com/sims2001/flarejs.git"><img width="20px" src="./image/github.png" /></a>
        </header>

        <nav class="navigation" data-ice="nav">
            <div>
                <ul>
                    <li data-ice="doc">
                        <span data-ice="kind" class="kind-class">C</span
                        ><span data-ice="name"
                            ><span><a href="class/src/flare.js~FlareJS.html">FlareJS</a></span></span
                        >
                    </li>
                    <li data-ice="doc">
                        <span data-ice="kind" class="kind-class">C</span
                        ><span data-ice="name"
                            ><span><a href="class/src/initialiser.js~Initializer.html">Initializer</a></span></span
                        >
                    </li>
                    <li data-ice="doc">
                        <span data-ice="kind" class="kind-variable">V</span
                        ><span data-ice="name"
                            ><span><a href="variable/index.html#static-variable-defaults">defaults</a></span></span
                        >
                    </li>
                    <li data-ice="doc">
                        <span data-ice="kind" class="kind-variable">V</span
                        ><span data-ice="name"
                            ><span><a href="variable/index.html#static-variable-initializer">initializer</a></span></span
                        >
                    </li>
                </ul>
            </div>
        </nav>

        <div class="content" data-ice="content">
            <h1 data-ice="title">src/initialiser.js</h1>
            <pre
                class="source-code line-number raw-source-code"
            ><code class="prettyprint linenums" data-ice="content">import defaults from &apos;./defaults.js&apos;;
import { fromString } from &apos;css-color-converter&apos;;

class Initializer {
    load(self, options, selector) {
        self.selector = selector;

        const elements = document.querySelectorAll(selector);
        if (!elements.length) {
            return;
        }

        self.options = Object.assign({}, defaults, options);
        //self.options = { ...defaults, ...options };

        //SETUP ELEMENTS
        self.glowElements = [];
        elements.forEach((ele) =&gt; {
            const elementBackground = window.getComputedStyle(ele, null).getPropertyValue(&apos;background-color&apos;);

            let configBackground = self.options.bgColor;

            if (configBackground !== null) {
                configBackground = fromString(configBackground).toRgbString();
            }

            const background = configBackground === null ? elementBackground : configBackground;

            const newGlowElement = {
                element: ele,
                defaultBackground: background,
            };

            self.glowElements.push(newGlowElement);
        });

        self.glowRadius = self.options.glowRadius;
        self.flareColor = fromString(self.options.flareColor).toRgbString();

        self.eventHandlers = [];

        self.isPaused = false;

        self.initialized = true;
    }
}

export const initializer = new Initializer();
</code></pre>
        </div>

        <footer class="footer">
            Generated by
            <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png" /></a>
        </footer>

        <script src="script/search_index.js"></script>
        <script src="script/search.js"></script>
        <script src="script/pretty-print.js"></script>
        <script src="script/inherited-summary.js"></script>
        <script src="script/test-summary.js"></script>
        <script src="script/inner-link.js"></script>
        <script src="script/patch-for-local.js"></script>
    </body>
</html>
